(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{426:function(s,n,e){"use strict";e.r(n);var t=e(2),a=Object(t.a)({},(function(){var s=this,n=s._self._c;return n("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[n("blockquote",[n("p",[s._v("本文所使用的ES集群环境可在历史文章中获取，采用docker部署的方式。")])]),s._v(" "),n("p",[s._v("Elasticsearch 是一个功能强大的搜索引擎，广泛用于构建复杂的全文搜索应用程序。在许多情况下，为了提高搜索引擎的性能和精度，我们可以使用外部词库来定制和扩展 Elasticsearch 的文本处理和搜索功能。本文将介绍外部词库的用途、优势以及如何在 Elasticsearch 中使用它们。")]),s._v(" "),n("h1",{attrs:{id:"为什么需要外部词库"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#为什么需要外部词库"}},[s._v("#")]),s._v(" 为什么需要外部词库？")]),s._v(" "),n("p",[s._v("Elasticsearch 默认提供了一套强大的文本处理工具，包括分词、标记过滤、同义词处理等。然而，在某些情况下，我们需要更多的控制权来适应特定的用例和需求。外部词库允许我们：")]),s._v(" "),n("ol",[n("li",[n("p",[n("strong",[s._v("自定义分词器")]),s._v("：通过使用外部词库，您可以创建自定义分词器，以根据特定需求定义文本分割规则。这对于处理不同语言或行业的文本非常有用。")])]),s._v(" "),n("li",[n("p",[n("strong",[s._v("扩展停用词列表")]),s._v("：停用词（如"),n("code",[s._v("and")]),s._v("、"),n("code",[s._v("the")]),s._v("等）通常被排除在搜索索引之外。外部词库允许您将领域特定的停用词添加到索引中，以便更好地适应我们行业内的数据。")])]),s._v(" "),n("li",[n("p",[n("strong",[s._v("同义词处理")]),s._v("：创建同义词词库可确保相关词汇在搜索时被正确映射，提高搜索结果的准确性。")])]),s._v(" "),n("li",[n("p",[n("strong",[s._v("专业术语")]),s._v("：对于特定领域或行业，我们可以通过创建外部词库，以包含特定领域的专业术语，确保搜索引擎能够理解和处理这些术语。")])])]),s._v(" "),n("h1",{attrs:{id:"使用外部词库的优势"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#使用外部词库的优势"}},[s._v("#")]),s._v(" 使用外部词库的优势")]),s._v(" "),n("p",[s._v("使用外部词库有以下优势：")]),s._v(" "),n("ol",[n("li",[n("p",[n("strong",[s._v("提高搜索质量")]),s._v("：通过自定义分词和停用词，可以确保搜索引擎更好地理解和处理文本，提高搜索质量。")])]),s._v(" "),n("li",[n("p",[n("strong",[s._v("适应特定需求")]),s._v("：外部词库允许根据特定用例和领域需求对搜索引擎进行定制，以满足工作要求。")])]),s._v(" "),n("li",[n("p",[n("strong",[s._v("更好的用户体验")]),s._v("：通过包含专业术语和扩展的同义词映射，用户能够更轻松地找到他们需要的内容。")])])]),s._v(" "),n("h1",{attrs:{id:"如何在-elasticsearch-中使用外部词库"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#如何在-elasticsearch-中使用外部词库"}},[s._v("#")]),s._v(" 如何在 Elasticsearch 中使用外部词库")]),s._v(" "),n("p",[s._v("在 Elasticsearch 中使用外部词库通常涉及以下步骤：")]),s._v(" "),n("ol",[n("li",[n("p",[n("strong",[s._v("创建外部词库文件")]),s._v("：首先，我们需要准备一个外部词库文件，其中包含自定义的词汇、同义词或停用词列表。")])]),s._v(" "),n("li",[n("p",[n("strong",[s._v("将词库上传到 Elasticsearch")]),s._v("：上传词库文件到 Elasticsearch")])]),s._v(" "),n("li",[n("p",[n("strong",[s._v("配置索引")]),s._v("：将外部词库与索引相关联，以确保 Elasticsearch 在索引文档时使用这些词汇。")])]),s._v(" "),n("li",[n("p",[n("strong",[s._v("搜索优化")]),s._v("：根据需要在搜索查询中应用外部词库，以扩展或定制搜索行为。")])])]),s._v(" "),n("h1",{attrs:{id:"示例-使用自定义词库分词"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#示例-使用自定义词库分词"}},[s._v("#")]),s._v(" 示例：使用自定义词库分词")]),s._v(" "),n("p",[s._v("本文在 "),n("code",[s._v("IK")]),s._v("分词器的基础上增加自定义分词，并配置本地词库文件，远程热更新词库文件。")]),s._v(" "),n("h2",{attrs:{id:"本地词库"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#本地词库"}},[s._v("#")]),s._v(" 本地词库")]),s._v(" "),n("ul",[n("li",[n("p",[s._v("首先在启动的"),n("code",[s._v("ES")]),s._v("中对"),n("code",[s._v("醉鱼")]),s._v("两个字进行分词，"),n("code",[s._v("IK")]),s._v("默认分为两个汉字")]),s._v(" "),n("div",{staticClass:"language-text line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('GET _analyze\n{\n  "analyzer": "ik_max_word",\n  "text": ["醉鱼"]\n}\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br")])]),n("p",[s._v("结果如下")]),s._v(" "),n("div",{staticClass:"language-text line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('{\n  "tokens" : [\n    {\n      "token" : "醉",\n      "start_offset" : 0,\n      "end_offset" : 1,\n      "type" : "CN_CHAR",\n      "position" : 0\n    },\n    {\n      "token" : "鱼",\n      "start_offset" : 1,\n      "end_offset" : 2,\n      "type" : "CN_CHAR",\n      "position" : 1\n    }\n  ]\n}\n\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br")])]),n("p",[s._v("而我们的需求是让其能分为一次词语，而不是两个汉字，那么下面引入我们的自定义分词文件")])]),s._v(" "),n("li",[n("p",[s._v("在 "),n("code",[s._v("ES")]),s._v(" 的 "),n("code",[s._v("plugins/ik/config")]),s._v(" 目录下创建自定义词库文件 "),n("code",[s._v("zuiyu.dic")]),s._v("，文件内容如下，格式为一个词语为一行。")]),s._v(" "),n("div",{staticClass:"language-text line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("醉鱼\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])])]),s._v(" "),n("li",[n("p",[s._v("修改 "),n("code",[s._v("IK")]),s._v(" 的配置，支持自定义分词文件 ，修改"),n("code",[s._v("plugins/ik/config")]),s._v(" 目录下的"),n("code",[s._v("IKAnalyzer.cfg.xml")]),s._v("，修改其中"),n("code",[s._v('<entry key="ext_dict"></entry>')]),s._v("的值，为本地文件路径，配置为相对路径，直接填写上一步创建的"),n("code",[s._v("zuiyu.dic")]),s._v("，结果如下")]),s._v(" "),n("p",[n("code",[s._v('<entry key="ext_dict">zuiyu.dic</entry>')])]),s._v(" "),n("div",{staticClass:"language-text line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('&lt;?xml version="1.0" encoding="UTF-8"?>\n&lt;!DOCTYPE properties SYSTEM "http://java.sun.com/dtd/properties.dtd">\n&lt;properties>\n\t&lt;comment>IK Analyzer 扩展配置&lt;/comment>\n\t&lt;!--用户可以在这里配置自己的扩展字典 --\x3e\n\t&lt;entry key="ext_dict">zuiyu.dic&lt;/entry>\n\t &lt;!--用户可以在这里配置自己的扩展停止词字典--\x3e\n\t&lt;entry key="ext_stopwords">&lt;/entry>\n\t&lt;!--用户可以在这里配置远程扩展字典 --\x3e\n\t&lt;!--&lt;entry key="remote_ext_dict">&lt;/entry>--\x3e\n\t&lt;!--用户可以在这里配置远程扩展停止词字典--\x3e\n\t&lt;!-- &lt;entry key="remote_ext_stopwords">words_location&lt;/entry> --\x3e\n&lt;/properties>\n\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br")])])]),s._v(" "),n("li",[n("p",[s._v("如果是启动的"),n("code",[s._v("ES")]),s._v("集群，需要复制当前两个文件到所有的集群中")]),s._v(" "),n("blockquote",[n("p",[s._v("1、当前集群有三个节点，其中都配置本地词库文件，但是"),n("code",[s._v("node1")]),s._v("，"),n("code",[s._v("node2")]),s._v("中都没有增加"),n("code",[s._v("醉鱼")]),s._v("这词语，只有"),n("code",[s._v("node3")]),s._v("有，此时使用分词是无法达到预期效果的。")]),s._v(" "),n("p",[s._v("2、"),n("code",[s._v("node1")]),s._v("中配置正常的"),n("code",[s._v('<entry key="ext_dict">zuiyu.dic</entry>')]),s._v("，"),n("code",[s._v("zuiyu.dic")]),s._v("中也包含"),n("code",[s._v("醉鱼")]),s._v("这个词语。"),n("code",[s._v("node2")]),s._v("，"),n("code",[s._v("node3")]),s._v("都不配置"),n("code",[s._v("ext_dict")]),s._v("，此时当前这个环境是可以进行正确分词，达到预期的结果的。")])])]),s._v(" "),n("li",[n("p",[s._v("重启 "),n("code",[s._v("ES")])])]),s._v(" "),n("li",[n("p",[s._v("测试分词效果，使用同样的分词语句")]),s._v(" "),n("div",{staticClass:"language-text line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('GET _analyze\n{\n  "analyzer": "ik_max_word",\n  "text": ["醉鱼"]\n}\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br")])]),n("p",[s._v("结果如下")]),s._v(" "),n("div",{staticClass:"language-text line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('{\n  "tokens" : [\n    {\n      "token" : "醉鱼",\n      "start_offset" : 0,\n      "end_offset" : 2,\n      "type" : "CN_WORD",\n      "position" : 0\n    }\n  ]\n}\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br")])]),n("p",[s._v("一般来说，词语肯定不是固定的，随着工作的长期积累，不断地发现新的专业术语，那么热更新，动态更新词库，不在每次更新词库之后重启"),n("code",[s._v("ES")]),s._v("就是非常有必要的了，下面来看一下热更新词库。")])])]),s._v(" "),n("h2",{attrs:{id:"远程词库-热更新"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#远程词库-热更新"}},[s._v("#")]),s._v(" 远程词库（热更新）")]),s._v(" "),n("p",[s._v("热更新词库的区别就是"),n("code",[s._v("IKAnalyzer.cfg.xml")]),s._v("文件中的一个配置的问题。不过核心还是需要一个词库文件，刚才是通过路径访问的，但是无法热更新，所以现在需要改为"),n("code",[s._v("URL")]),s._v("访问，也就是 "),n("code",[s._v("HTTP")]),s._v(" 请求可以读取到的形式。一个词语一行返回即可。")]),s._v(" "),n("p",[s._v("此处使用 "),n("code",[s._v("Nginx")]),s._v(" 来做演示。"),n("code",[s._v("Nginx")]),s._v(" 中的配置如下")]),s._v(" "),n("ul",[n("li",[n("p",[n("code",[s._v("nginx.conf")])]),s._v(" "),n("div",{staticClass:"language-text line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("        location /dic/zuiyu.dic {\n            alias   html/dic/zuiyu.dic;   \n        }\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br")])])]),s._v(" "),n("li",[n("p",[n("code",[s._v("zuiyu.dic")]),s._v(" 文件内容如下")]),s._v(" "),n("div",{staticClass:"language-text line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("醉鱼\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])])]),s._v(" "),n("li",[n("p",[n("code",[s._v("IKAnalyzer.cfg.xml")]),s._v("配置修改如下,"),n("code",[s._v("IP")]),s._v("为部署的 "),n("code",[s._v("Nginx")]),s._v(" 的 "),n("code",[s._v("IP")]),s._v(" ，端口也是根据自己 "),n("code",[s._v("Nginx")]),s._v(" 监听的端口修改")]),s._v(" "),n("div",{staticClass:"language-text line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('&lt;entry key="remote_ext_dict">http://192.168.30.240:8088/dic/zuiyu.dic&lt;/entry>\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[s._v("完整的配置如下")]),s._v(" "),n("div",{staticClass:"language-text line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('&lt;?xml version="1.0" encoding="UTF-8"?>\n&lt;!DOCTYPE properties SYSTEM "http://java.sun.com/dtd/properties.dtd">\n&lt;properties>\n\t&lt;comment>IK Analyzer 扩展配置&lt;/comment>\n\t&lt;!--用户可以在这里配置自己的扩展字典 --\x3e\n\t&lt;entry key="ext_dict">zuiyu.dic&lt;/entry>\n\t &lt;!--用户可以在这里配置自己的扩展停止词字典--\x3e\n\t&lt;entry key="ext_stopwords">&lt;/entry>\n\t&lt;!--用户可以在这里配置远程扩展字典 --\x3e\n\t&lt;entry key="remote_ext_dict">http://192.168.30.240:8088/dic/zuiyu.dic&lt;/entry>\n\t&lt;!--用户可以在这里配置远程扩展停止词字典--\x3e\n\t&lt;!-- &lt;entry key="remote_ext_stopwords">words_location&lt;/entry> --\x3e\n&lt;/properties>\n\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br")])])]),s._v(" "),n("li",[n("p",[s._v("验证"),n("code",[s._v("URL")]),s._v("访问结果，使用浏览器或者"),n("code",[s._v("postman")]),s._v("等工具访问 "),n("code",[s._v("http://192.168.30.240:8088/dic/zuiyu.dic")]),s._v(" 可以返回我们的文件内容即可，也是一个词语一行的形式。")])]),s._v(" "),n("li",[n("p",[s._v("复制"),n("code",[s._v("IKAnalyzer.cfg.xml")]),s._v(" 到集群的每个节点中")])]),s._v(" "),n("li",[n("p",[s._v("重启"),n("code",[s._v("ES")])])]),s._v(" "),n("li",[n("p",[s._v("测试对 "),n("code",[s._v("醉鱼")]),s._v(" 分词，可以看到与上面本地词库时是同样的效果")]),s._v(" "),n("div",{staticClass:"language-text line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('{\n  "tokens" : [\n    {\n      "token" : "醉鱼",\n      "start_offset" : 0,\n      "end_offset" : 2,\n      "type" : "CN_WORD",\n      "position" : 0\n    }\n  ]\n}\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br")])])]),s._v(" "),n("li",[n("p",[s._v("测试对"),n("code",[s._v("我爱你醉鱼")]),s._v("进行分词")]),s._v(" "),n("div",{staticClass:"language-text line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('GET _analyze\n{\n  "analyzer": "ik_max_word",\n  "text": ["我爱你醉鱼"]\n}\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br")])]),n("p",[s._v("结果如下")]),s._v(" "),n("div",{staticClass:"language-text line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('{\n  "tokens" : [\n    {\n      "token" : "我爱你",\n      "start_offset" : 0,\n      "end_offset" : 3,\n      "type" : "CN_WORD",\n      "position" : 0\n    },\n    {\n      "token" : "爱你",\n      "start_offset" : 1,\n      "end_offset" : 3,\n      "type" : "CN_WORD",\n      "position" : 1\n    },\n    {\n      "token" : "醉鱼",\n      "start_offset" : 3,\n      "end_offset" : 5,\n      "type" : "CN_WORD",\n      "position" : 2\n    }\n  ]\n}\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br")])])]),s._v(" "),n("li",[n("p",[s._v("在"),n("code",[s._v("zuiyu.dic")]),s._v("中增加"),n("code",[s._v("我爱你醉鱼")]),s._v("，最终的文件内容如下")]),s._v(" "),n("div",{staticClass:"language-text line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("醉鱼\n我爱你醉鱼\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])])]),s._v(" "),n("li",[n("p",[s._v("增加完成之后，这5个字已经成为一个词语，分词结果如下")]),s._v(" "),n("div",{staticClass:"language-text line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('{\n  "tokens" : [\n    {\n      "token" : "我爱你醉鱼",\n      "start_offset" : 0,\n      "end_offset" : 5,\n      "type" : "CN_WORD",\n      "position" : 0\n    },\n    {\n      "token" : "我爱你",\n      "start_offset" : 0,\n      "end_offset" : 3,\n      "type" : "CN_WORD",\n      "position" : 1\n    },\n    {\n      "token" : "爱你",\n      "start_offset" : 1,\n      "end_offset" : 3,\n      "type" : "CN_WORD",\n      "position" : 2\n    },\n    {\n      "token" : "醉鱼",\n      "start_offset" : 3,\n      "end_offset" : 5,\n      "type" : "CN_WORD",\n      "position" : 3\n    }\n  ]\n}\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br"),n("span",{staticClass:"line-number"},[s._v("31")]),n("br"),n("span",{staticClass:"line-number"},[s._v("32")]),n("br")])]),n("blockquote",[n("p",[s._v("仅在一个节点 "),n("code",[s._v("node1")]),s._v(" 中配置了远程词库，"),n("code",[s._v("node2")]),s._v(" 与 "),n("code",[s._v("node3")]),s._v(" 都没有配置任何的词库，此时当前环境"),n("strong",[s._v("无法达到")]),s._v("我们的预期分词效果")])])])]),s._v(" "),n("h1",{attrs:{id:"总结"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#总结"}},[s._v("#")]),s._v(" 总结")]),s._v(" "),n("p",[s._v("通过上面我们的试验，可以发现结合 "),n("code",[s._v("IK")]),s._v("分词器，使用自定义词库，可以满足我们专业内的词语分词，实现更好的分词效果，再加上动态词库的更新，对我们的工作还是很有必要的，配置过程是不是很简单，下面就赶紧用起来吧。")])])}),[],!1,null,null,null);n.default=a.exports}}]);